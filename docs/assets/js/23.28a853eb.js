(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{531:function(e,v,_){"use strict";_.r(v);var a=_(5),o=Object(a.a)({},(function(){var e=this,v=e.$createElement,_=e._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h2",{attrs:{id:"localstorage和sessionstorage"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#localstorage和sessionstorage"}},[e._v("#")]),e._v(" LocalStorage和sessionStorage")]),e._v(" "),_("h3",{attrs:{id:"有什么用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#有什么用"}},[e._v("#")]),e._v(" 有什么用？")]),e._v(" "),_("ul",[_("li",[_("p",[e._v("Web 存储对象 "),_("code",[e._v("localStorage")]),e._v(" 和 "),_("code",[e._v("sessionStorage")]),e._v(" 允许我们在浏览器上保存键/值对。")])]),e._v(" "),_("li",[_("p",[e._v("在页面刷新后（对于 "),_("code",[e._v("sessionStorage")]),e._v("）甚至浏览器完全重启（对于 "),_("code",[e._v("localStorage")]),e._v("）后，数据仍然保留在浏览器中。")])])]),e._v(" "),_("h3",{attrs:{id:"和cookie有什么区别"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#和cookie有什么区别"}},[e._v("#")]),e._v(" 和cookie有什么区别？")]),e._v(" "),_("ul",[_("li",[_("p",[e._v("不会随每个请求被发送到服务器，可以保存更多数据（2M）")])]),e._v(" "),_("li",[_("p",[e._v("服务器无法通过 HTTP header 操纵存储对象。一切都是在 JavaScript 中完成的。")])]),e._v(" "),_("li",[_("p",[e._v("不支持跨域")])])]),e._v(" "),_("h3",{attrs:{id:"相同的方法和属性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#相同的方法和属性"}},[e._v("#")]),e._v(" 相同的方法和属性")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("setItem(key, value)")]),e._v(" —— 存储键/值对。")]),e._v(" "),_("li",[_("code",[e._v("getItem(key)")]),e._v(" —— 按照键获取值。")]),e._v(" "),_("li",[_("code",[e._v("removeItem(key)")]),e._v(" —— 删除键及其对应的值。")]),e._v(" "),_("li",[_("code",[e._v("clear()")]),e._v(" —— 删除所有数据。")]),e._v(" "),_("li",[_("code",[e._v("key(index)")]),e._v(" —— 获取该索引下的键名。")]),e._v(" "),_("li",[_("code",[e._v("length")]),e._v(" —— 存储的内容的长度。")])]),e._v(" "),_("h3",{attrs:{id:"两者的区别"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#两者的区别"}},[e._v("#")]),e._v(" 两者的区别")]),e._v(" "),_("ul",[_("li",[_("p",[_("code",[e._v("sessionStorage")]),e._v(" 对象的使用频率比 "),_("code",[e._v("localStorage")]),e._v(" 对象低得多。")]),e._v(" "),_("p",[e._v("属性和方法是相同的，但是它有更多的限制：")]),e._v(" "),_("ul",[_("li",[e._v("sessionStorage的数据只存在于当前浏览器标签页。")]),e._v(" "),_("li",[e._v("具有相同页面的另一个标签页中将会有不同的存储。")]),e._v(" "),_("li",[e._v("但是，它在同一标签页下的 iframe 之间是共享的（假如它们来自相同的源）。")]),e._v(" "),_("li",[e._v("数据在页面刷新后仍然保留，但在关闭/重新打开浏览器标签页后不会被保留。")])])])]),e._v(" "),_("h3",{attrs:{id:"stroage事件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#stroage事件"}},[e._v("#")]),e._v(" stroage事件")]),e._v(" "),_("p",[e._v("当 "),_("code",[e._v("localStorage")]),e._v(" 或 "),_("code",[e._v("sessionStorage")]),e._v(" 中的数据更新后，"),_("a",{attrs:{href:"https://www.w3.org/TR/webstorage/#the-storage-event",target:"_blank",rel:"noopener noreferrer"}},[e._v("storage"),_("OutboundLink")],1),e._v(" 事件就会触发，它具有以下属性：")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("key")]),e._v(" —— 发生更改的数据的 "),_("code",[e._v("key")]),e._v("（如果调用的是 "),_("code",[e._v(".clear()")]),e._v(" 方法，则为 "),_("code",[e._v("null")]),e._v("）。")]),e._v(" "),_("li",[_("code",[e._v("oldValue")]),e._v(" —— 旧值（如果是新增数据，则为 "),_("code",[e._v("null")]),e._v("）。")]),e._v(" "),_("li",[_("code",[e._v("newValue")]),e._v(" —— 新值（如果是删除数据，则为 "),_("code",[e._v("null")]),e._v("）。")]),e._v(" "),_("li",[_("code",[e._v("url")]),e._v(" —— 发生数据更新的文档的 url。")]),e._v(" "),_("li",[_("code",[e._v("storageArea")]),e._v(" —— 发生数据更新的 "),_("code",[e._v("localStorage")]),e._v(" 或 "),_("code",[e._v("sessionStorage")]),e._v(" 对象。")])]),e._v(" "),_("p",[e._v("重要的是：该事件会在所有可访问到存储对象的 "),_("code",[e._v("window")]),e._v(" 对象上触发，导致当前数据改变的 "),_("code",[e._v("window")]),e._v(" 对象除外，因此可以用来同源不同窗口交换消息。")]),e._v(" "),_("h3",{attrs:{id:"总结"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[e._v("#")]),e._v(" 总结")]),e._v(" "),_("ul",[_("li",[_("p",[e._v("差别是一个浏览器刷新后保存，一个即使浏览器关闭也可以保存。")])]),e._v(" "),_("li",[_("p",[e._v("键名和键值都是字符串，可以使用json改造")])]),e._v(" "),_("li",[_("p",[e._v("增删改查api,Object.keys获取所有的键。")])]),e._v(" "),_("li",[_("p",[e._v("storage事件可以用来同源不同窗口信息交换。")])])])])}),[],!1,null,null,null);v.default=o.exports}}]);